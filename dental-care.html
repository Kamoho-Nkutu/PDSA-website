<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dental Care - PDSA Veterinary Clinic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --primary-dark: #1a252f;
            --primary-light: #d6eaf8;
            --secondary: #3498db;
            --secondary-dark: #2980b9;
            --secondary-light: #ebf5fb;
            --accent: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --text-color: #2c3e50;
            --text-light: #7f8c8d;
            --bg-light: #f8f9fa;
            --border-radius: 8px;
            --box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-light);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo img {
            height: 50px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .auth-buttons {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-menu {
            position: relative;
        }

        .user-avatar {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .user-avatar img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--secondary);
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1rem;
            width: 200px;
            z-index: 100;
            display: none;
            margin-top: 10px;
        }

        .user-dropdown a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.75rem 1rem;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 4px;
            transition: var(--transition);
        }

        .user-dropdown a:hover {
            background-color: var(--primary-light);
            color: var(--secondary);
        }

        .user-avatar:hover .user-dropdown {
            display: block;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1544568100-847a948585b9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1974&q=80');
            background-size: cover;
            background-position: center;
            padding: 5rem 0;
            text-align: center;
            color: white;
        }
        
        .hero h2 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            background-color: var(--secondary);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-3px);
        }
        
        .btn:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }
        
        .btn-outline:hover {
            background-color: var(--secondary);
            color: white;
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-success:hover {
            background-color: #219653;
        }
        
        /* Services Section */
        .services {
            padding: 5rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
        }
        
        .section-title p {
            max-width: 700px;
            margin: 0 auto;
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        /* Sidebar Navigation */
        .content-with-sidebar {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 2rem;
            margin-bottom: 4rem;
        }
        
        .sidebar {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .sidebar h3 {
            color: var(--primary);
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary);
            font-size: 1.4rem;
        }
        
        .sidebar ul {
            list-style: none;
        }
        
        .sidebar li {
            margin-bottom: 0.8rem;
        }
        
        .sidebar a {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-color);
            text-decoration: none;
            padding: 0.6rem 0.8rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            font-weight: 500;
        }
        
        .sidebar a:hover, .sidebar a.active {
            background-color: var(--primary-light);
            color: var(--secondary);
        }
        
        .sidebar i {
            width: 20px;
            color: var(--secondary);
        }
        
        /* Service Detail */
        .service-detail {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--box-shadow);
        }
        
        .service-detail h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary);
            font-size: 2rem;
        }
        
        .service-detail p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            color: var(--text-color);
            font-size: 1.1rem;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .detail-card {
            background-color: var(--bg-light);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--secondary);
            transition: var(--transition);
        }
        
        .detail-card:hover {
            transform: translateY(-5px);
        }
        
        .detail-card h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-card p {
            margin-bottom: 0;
            color: var(--text-color);
        }
        
        /* Tabs for service pages */
        .service-tabs {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .service-tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }
        
        .service-tab.active {
            color: var(--secondary);
            border-bottom: 3px solid var(--secondary);
        }
        
        .service-tab:hover {
            color: var(--secondary);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Pricing table */
        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .pricing-table th, .pricing-table td {
            padding: 1.2rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .pricing-table th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        .pricing-table tr:last-child td {
            border-bottom: none;
        }
        
        .pricing-table tr:nth-child(even) {
            background-color: var(--bg-light);
        }
        
        .pricing-table tr:hover {
            background-color: var(--secondary-light);
        }
        
        /* Warning Signs */
        .warning-signs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2.5rem 0;
        }
        
        .warning-sign {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border-left: 4px solid var(--accent);
        }
        
        .warning-sign h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Process Steps */
        .process-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2.5rem 0;
        }
        
        .process-step {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .process-step h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
        }
        
        /* Home Care Tips */
        .home-care {
            background: var(--primary-light);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
        }
        
        .home-care h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .care-tips {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .care-tip {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            text-align: center;
        }
        
        .care-tip i {
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }
        
        /* Appointment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            color: var(--primary);
            font-size: 1.5rem;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast.error {
            background-color: var(--accent);
        }

        .toast.warning {
            background-color: var(--warning);
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Login Prompt */
        .login-prompt {
            background: var(--warning);
            color: white;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 3rem 0;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .footer-col h3 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-col h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background-color: var(--secondary);
        }
        
        .footer-col p {
            margin-bottom: 1rem;
            color: #bbb;
        }
        
        .footer-col ul {
            list-style: none;
        }
        
        .footer-col ul li {
            margin-bottom: 0.8rem;
        }
        
        .footer-col ul li a {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #bbb;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-col ul li a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #bbb;
        }
        
        /* Responsive Styles */
        @media (max-width: 900px) {
            .content-with-sidebar {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
                margin-bottom: 2rem;
            }
            
            nav ul {
                gap: 15px;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                display: none;
                flex-direction: column;
                width: 100%;
                text-align: center;
                margin-top: 1rem;
            }
            
            nav ul.show {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .service-tabs {
                flex-direction: column;
            }
            
            .service-tab {
                text-align: center;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .modal-footer {
                flex-direction: column;
            }
            
            .modal-footer .btn {
                width: 100%;
                justify-content: center;
            }

            .auth-buttons {
                flex-direction: column;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <img src="https://www.pdsa.org.uk/media/12121/pdsa-logo.png" alt="PDSA Logo">
                    <h1>PDSA Veterinary Clinic</h1>
                </a>
                <nav>
                    <ul id="nav-menu">
                        <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="services.html" class="active"><i class="fas fa-stethoscope"></i> Services</a></li>
                        <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
                        <li><a href="team.html"><i class="fas fa-users"></i> Our Team</a></li>
                        <li><a href="contact.html"><i class="fas fa-phone"></i> Contact</a></li>
                    </ul>
                    <div class="auth-buttons">
                        <div id="login-buttons" style="display: none;">
                            <a href="index.html#login" class="btn btn-outline">
                                <i class="fas fa-sign-in-alt"></i> Login
                            </a>
                            <a href="index.html#register" class="btn">
                                <i class="fas fa-user-plus"></i> Register
                            </a>
                        </div>
                        <div class="user-menu" id="user-menu" style="display: none;">
                            <div class="user-avatar">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=100&q=80" alt="User Avatar" id="user-avatar">
                                <div class="user-dropdown">
                                    <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
                                    <a href="appointments.html"><i class="fas fa-calendar"></i> My Appointments</a>
                                    <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="mobile-menu-btn" id="mobile-menu-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Dental Care Services</h2>
            <p>Comprehensive dental care to keep your pet's teeth healthy and prevent dental disease</p>
            <button class="btn" id="book-appointment-btn">
                <i class="fas fa-calendar-check"></i> Book a Dental Checkup
            </button>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services">
        <div class="container">
            <div class="content-with-sidebar">
                <!-- Sidebar Navigation -->
                <div class="sidebar">
                    <h3>Our Services</h3>
                    <ul>
                        <li><a href="vaccinations.html"><i class="fas fa-syringe"></i> Vaccinations</a></li>
                        <li><a href="surgery.html"><i class="fas fa-procedures"></i> Surgical Procedures</a></li>
                        <li><a href="dental-care.html" class="active"><i class="fas fa-tooth"></i> Dental Care</a></li>
                        <li><a href="emergency-care.html"><i class="fas fa-ambulance"></i> Emergency Care</a></li>
                        <li><a href="microchipping.html"><i class="fas fa-microchip"></i> Microchipping</a></li>
                        <li><a href="pet-health-advice.html"><i class="fas fa-heartbeat"></i> Pet Health Advice</a></li>
                    </ul>
                </div>
                
                <!-- Service Detail -->
                <div class="service-detail">
                    <h2>Dental Care Services</h2>
                    <p>Proper dental care is essential for your pet's overall health. At PDSA Veterinary Clinic, we provide comprehensive dental services to prevent and treat dental disease, which affects most pets by age three. Our dental services include cleanings, extractions, and oral surgery performed under safe anesthesia with advanced monitoring.</p>
                    
                    <div class="service-tabs">
                        <div class="service-tab active" data-tab="overview">Overview</div>
                        <div class="service-tab" data-tab="services">Services</div>
                        <div class="service-tab" data-tab="pricing">Pricing</div>
                        <div class="service-tab" data-tab="homecare">Home Care</div>
                        <div class="service-tab" data-tab="book">Book Now</div>
                    </div>
                    
                    <div class="tab-content active" id="overview">
                        <!-- Overview content remains the same -->
                        <p>Dental health is a critical component of your pet's overall wellbeing. Poor dental hygiene can lead to painful infections, tooth loss, and can even affect major organs like the heart and kidneys. Our veterinary dental team is dedicated to providing the highest quality care to keep your pet's mouth healthy and pain-free.</p>
                        
                        <div class="detail-grid">
                            <div class="detail-card">
                                <h4><i class="fas fa-tooth"></i> Dental Exams</h4>
                                <p>Comprehensive oral examinations to detect early signs of dental disease and other oral health issues.</p>
                            </div>
                            <div class="detail-card">
                                <h4><i class="fas fa-teeth"></i> Professional Cleaning</h4>
                                <p>Thorough cleaning above and below the gumline to remove plaque and tartar buildup.</p>
                            </div>
                            <div class="detail-card">
                                <h4><i class="fas fa-x-ray"></i> Dental X-rays</h4>
                                <p>Digital radiographs to evaluate the health of tooth roots and jawbones below the gumline.</p>
                            </div>
                        </div>
                        
                        <h3>Signs Your Pet Needs Dental Care</h3>
                        <div class="warning-signs">
                            <div class="warning-sign">
                                <h4><i class="fas fa-exclamation-circle"></i> Bad Breath</h4>
                                <p>Persistent bad breath can indicate dental disease or other health issues.</p>
                            </div>
                            <div class="warning-sign">
                                <h4><i class="fas fa-exclamation-circle"></i> Difficulty Eating</h4>
                                <p>Dropping food, chewing on one side, or loss of appetite may signal dental pain.</p>
                            </div>
                            <div class="warning-sign">
                                <h4><i class="fas fa-exclamation-circle"></i> Pawing at Mouth</h4>
                                <p>Pets often paw at their mouths when experiencing dental discomfort.</p>
                            </div>
                            <div class="warning-sign">
                                <h4><i class="fas fa-exclamation-circle"></i> Red or Bleeding Gums</h4>
                                <p>Inflammation and bleeding are signs of gingivitis and periodontal disease.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Other tab contents remain the same -->
                    <div class="tab-content" id="services">
                        <!-- Services content -->
                    </div>
                    
                    <div class="tab-content" id="pricing">
                        <!-- Pricing content -->
                    </div>
                    
                    <div class="tab-content" id="homecare">
                        <!-- Home care content -->
                    </div>

                    <div class="tab-content" id="book">
                        <h3>Book a Dental Appointment</h3>
                        <p>Schedule your pet's dental appointment with our experienced veterinary team.</p>
                        
                        <!-- Login Prompt for unauthenticated users -->
                        <div id="login-prompt" class="login-prompt" style="display: none;">
                            <p><i class="fas fa-info-circle"></i> Please log in to book an appointment</p>
                            <div style="margin-top: 1rem;">
                                <a href="index.html#login" class="btn btn-success" style="margin-right: 1rem;">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </a>
                                <a href="index.html#register" class="btn">
                                    <i class="fas fa-user-plus"></i> Register
                                </a>
                            </div>
                        </div>
                        
                        <form id="dental-appointment-form">
                            <div class="form-group">
                                <label for="dental-pet-name">Pet's Name</label>
                                <input type="text" id="dental-pet-name" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="dental-pet-type">Pet Type</label>
                                <select id="dental-pet-type" class="form-control" required>
                                    <option value="">Select Pet Type</option>
                                    <option value="dog">Dog</option>
                                    <option value="cat">Cat</option>
                                    <option value="rabbit">Rabbit</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="dental-pet-age">Pet Age</label>
                                <input type="text" id="dental-pet-age" class="form-control" placeholder="e.g., 2 years" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="dental-service">Service Needed</label>
                                <select id="dental-service" class="form-control" required>
                                    <option value="">Select Service</option>
                                    <option value="exam">Dental Examination</option>
                                    <option value="cleaning">Dental Cleaning</option>
                                    <option value="extraction">Tooth Extraction</option>
                                    <option value="surgery">Oral Surgery</option>
                                    <option value="other">Other Dental Service</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="dental-date">Preferred Date</label>
                                <input type="date" id="dental-date" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="dental-notes">Additional Notes</label>
                                <textarea id="dental-notes" class="form-control" rows="3" placeholder="Any specific concerns or information about your pet's dental health"></textarea>
                            </div>
                            
                            <button type="submit" class="btn" id="dental-submit-btn">
                                <i class="fas fa-calendar-check"></i> Book Appointment
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <div class="container">
        <div class="detail-card" style="text-align: center; background-color: var(--primary-light);">
            <h3><i class="fas fa-calendar-check"></i> Schedule a Dental Checkup Today</h3>
            <p>Don't wait until your pet shows signs of dental pain. Regular dental checkups can prevent serious health issues and keep your pet comfortable.</p>
            <button class="btn" id="book-now-btn">
                <i class="fas fa-calendar"></i> Book an Appointment
            </button>
        </div>
    </div>

    <!-- Appointment Modal -->
    <div class="modal" id="appointment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Book a Dental Appointment</h2>
                <button class="close-modal" id="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Login Prompt for modal -->
                <div id="modal-login-prompt" class="login-prompt" style="display: none;">
                    <p><i class="fas fa-info-circle"></i> Please log in to book an appointment</p>
                    <div style="margin-top: 1rem;">
                        <a href="index.html#login" class="btn btn-success" style="margin-right: 1rem;">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </a>
                        <a href="index.html#register" class="btn">
                            <i class="fas fa-user-plus"></i> Register
                        </a>
                    </div>
                </div>
                
                <form id="appointment-form">
                    <div class="form-group">
                        <label for="pet-name">Pet's Name</label>
                        <input type="text" id="pet-name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="pet-type">Pet Type</label>
                        <select id="pet-type" class="form-control" required>
                            <option value="">Select Pet Type</option>
                            <option value="dog">Dog</option>
                            <option value="cat">Cat</option>
                            <option value="rabbit">Rabbit</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="service">Service Needed</label>
                        <select id="service" class="form-control" required>
                            <option value="">Select Service</option>
                            <option value="exam">Dental Examination</option>
                            <option value="cleaning">Dental Cleaning</option>
                            <option value="extraction">Tooth Extraction</option>
                            <option value="surgery">Oral Surgery</option>
                            <option value="other">Other Dental Service</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">Preferred Date</label>
                        <input type="date" id="date" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="time">Preferred Time</label>
                        <select id="time" class="form-control" required>
                            <option value="">Select Time</option>
                            <option value="morning">Morning (8am - 12pm)</option>
                            <option value="afternoon">Afternoon (12pm - 4pm)</option>
                            <option value="evening">Evening (4pm - 7pm)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Additional Notes</label>
                        <textarea id="notes" class="form-control" rows="3" placeholder="Any specific concerns or information about your pet's dental health"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-appointment">
                    Cancel
                </button>
                <button class="btn" id="submit-appointment">
                    Submit Appointment Request
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>About PDSA</h3>
                    <p>Providing quality veterinary care to pets in need since 2010. Our mission is to ensure every pet receives the care they deserve.</p>
                </div>
                
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="services.html"><i class="fas fa-chevron-right"></i> Services</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                
            
                
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 1188 Nancefield Road, Mfolo, Soweto</p>
                    <p><i class="fas fa-phone"></i> 011 984 4340</p>
                    <p><i class="fas fa-envelope"></i> info@pdsa.org.za</p>
                    <p><i class="fas fa-clock"></i> Mon-Fri: 8:00 AM - 7:00 PM</p>
                    <p><i class="fas fa-calendar"></i> Sat: 9:00 AM - 4:00 PM</p>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 PDSA Veterinary Clinic. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB6QmZtUg2qajsUfeii7MBkDmGEbm5JkOE",
            authDomain: "pdsa-database.firebaseapp.com",
            databaseURL: "https://pdsa-database-default-rtdb.firebaseio.com",
            projectId: "pdsa-database",
            storageBucket: "pdsa-database.firebasestorage.app",
            messagingSenderId: "1041468794677",
            appId: "1:1041468794677:web:e7d38f76c644173cf48e7c",
            measurementId: "G-8QLD9BK9M0"
        };

        // Initialize Firebase
        let auth, db;
        try {
            firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            db = firebase.firestore();
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.error("Firebase initialization error:", error);
        }

        // Application State
        const AppState = {
            currentUser: null,
            isAuthenticated: false
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Firebase Auth Listener
            if (auth) {
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        console.log("User authenticated:", user.uid);
                        AppState.currentUser = user;
                        AppState.isAuthenticated = true;
                        updateAuthUI(true);
                        updateFormAccess(true);
                    } else {
                        console.log("No user authenticated");
                        AppState.currentUser = null;
                        AppState.isAuthenticated = false;
                        updateAuthUI(false);
                        updateFormAccess(false);
                    }
                }, (error) => {
                    console.error("Auth state change error:", error);
                    showToast("Authentication error: " + error.message, "error");
                });
            }

            // Update UI based on authentication state
            function updateAuthUI(isLoggedIn) {
                const loginButtons = document.getElementById('login-buttons');
                const userMenu = document.getElementById('user-menu');
                
                if (isLoggedIn) {
                    if (loginButtons) loginButtons.style.display = 'none';
                    if (userMenu) userMenu.style.display = 'block';
                    
                    // Update user avatar if available
                    if (AppState.currentUser.photoURL) {
                        document.getElementById('user-avatar').src = AppState.currentUser.photoURL;
                    }
                } else {
                    if (loginButtons) loginButtons.style.display = 'flex';
                    if (userMenu) userMenu.style.display = 'none';
                }
            }

            // Update form access based on authentication
            function updateFormAccess(isAuthenticated) {
                const loginPrompt = document.getElementById('login-prompt');
                const modalLoginPrompt = document.getElementById('modal-login-prompt');
                const dentalForm = document.getElementById('dental-appointment-form');
                const modalForm = document.getElementById('appointment-form');
                
                if (isAuthenticated) {
                    if (loginPrompt) loginPrompt.style.display = 'none';
                    if (modalLoginPrompt) modalLoginPrompt.style.display = 'none';
                    if (dentalForm) dentalForm.style.display = 'block';
                    if (modalForm) modalForm.style.display = 'block';
                } else {
                    if (loginPrompt) loginPrompt.style.display = 'block';
                    if (modalLoginPrompt) modalLoginPrompt.style.display = 'block';
                    if (dentalForm) dentalForm.style.display = 'none';
                    if (modalForm) modalForm.style.display = 'none';
                }
            }

            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const navMenu = document.getElementById('nav-menu');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', () => {
                    navMenu.classList.toggle('show');
                });
            }
            
            // Tab functionality for service pages
            const tabs = document.querySelectorAll('.service-tab');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    
                    // Hide all tab content
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Show the selected tab content
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Appointment modal functionality
            const appointmentModal = document.getElementById('appointment-modal');
            const bookAppointmentBtn = document.getElementById('book-appointment-btn');
            const bookNowBtn = document.getElementById('book-now-btn');
            const closeModalBtn = document.getElementById('close-modal');
            const cancelAppointmentBtn = document.getElementById('cancel-appointment');
            const submitAppointmentBtn = document.getElementById('submit-appointment');
            const appointmentForm = document.getElementById('appointment-form');
            const dentalAppointmentForm = document.getElementById('dental-appointment-form');
            
            // Open modal
            function openModal() {
                if (!AppState.isAuthenticated) {
                    showToast("Please log in to book an appointment", "warning");
                    return;
                }
                appointmentModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // Close modal
            function closeModal() {
                appointmentModal.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            // Event listeners
            if (bookAppointmentBtn) {
                bookAppointmentBtn.addEventListener('click', openModal);
            }
            
            if (bookNowBtn) {
                bookNowBtn.addEventListener('click', openModal);
            }
            
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeModal);
            }
            
            if (cancelAppointmentBtn) {
                cancelAppointmentBtn.addEventListener('click', closeModal);
            }
            
            // Close modal when clicking outside
            if (appointmentModal) {
                appointmentModal.addEventListener('click', (e) => {
                    if (e.target === appointmentModal) {
                        closeModal();
                    }
                });
            }
            
            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && appointmentModal.classList.contains('active')) {
                    closeModal();
                }
            });

            // Show toast notification
            function showToast(message, type = 'success') {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <i class="fas fa-${type === 'error' ? 'exclamation-triangle' : type === 'warning' ? 'exclamation-circle' : 'check-circle'}"></i>
                    <span>${message}</span>
                `;
                
                document.body.appendChild(toast);
                
                // Show toast
                setTimeout(() => toast.classList.add('show'), 100);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.parentNode.removeChild(toast);
                        }
                    }, 300);
                }, 3000);
            }

            // Handle appointment form submission
            function handleAppointmentSubmit(form, isModalForm = false) {
                return function(e) {
                    e.preventDefault();
                    
                    if (!AppState.isAuthenticated) {
                        showToast('Please log in to book an appointment', 'error');
                        return;
                    }
                    
                    // Get form data
                    const petName = isModalForm ? 
                        document.getElementById('pet-name').value : 
                        document.getElementById('dental-pet-name').value;
                    
                    const petType = isModalForm ? 
                        document.getElementById('pet-type').value : 
                        document.getElementById('dental-pet-type').value;
                    
                    const service = isModalForm ? 
                        document.getElementById('service').value : 
                        document.getElementById('dental-service').value;
                    
                    const date = isModalForm ? 
                        document.getElementById('date').value : 
                        document.getElementById('dental-date').value;
                    
                    const notes = isModalForm ? 
                        document.getElementById('notes').value : 
                        document.getElementById('dental-notes').value;
                    
                    const time = isModalForm ? document.getElementById('time').value : 'Not specified';
                    const petAge = !isModalForm ? document.getElementById('dental-pet-age').value : 'Not specified';
                    
                    // Basic form validation
                    if (!petName || !petType || !service || !date) {
                        showToast('Please fill in all required fields', 'error');
                        return;
                    }
                    
                    const submitBtn = isModalForm ? 
                        document.getElementById('submit-appointment') : 
                        document.getElementById('dental-submit-btn');
                    
                    const originalText = submitBtn.innerHTML;
                    
                    // Show loading state
                    submitBtn.innerHTML = '<i class="fas fa-spinner loading-spinner"></i> Submitting...';
                    submitBtn.disabled = true;
                    
                    // Prepare appointment data
                    const appointmentData = {
                        userId: AppState.currentUser.uid,
                        userEmail: AppState.currentUser.email,
                        petName: petName,
                        petType: petType,
                        petAge: petAge,
                        service: service,
                        serviceType: 'dental',
                        date: date,
                        time: time,
                        notes: notes,
                        status: 'pending',
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    // Save to Firestore
                    db.collection('appointments').add(appointmentData)
                        .then((docRef) => {
                            console.log('Appointment saved with ID: ', docRef.id);
                            showToast('Appointment request submitted successfully! We will contact you to confirm.');
                            
                            // Reset form and close modal
                            form.reset();
                            if (isModalForm) closeModal();
                        })
                        .catch((error) => {
                            console.error('Error saving appointment: ', error);
                            if (error.code === 'permission-denied') {
                                showToast('Database permissions error. Please check your Firestore security rules.', 'error');
                            } else {
                                showToast('Error submitting appointment. Please try again.', 'error');
                            }
                        })
                        .finally(() => {
                            // Restore button
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                        });
                };
            }
            
            // Form submission handlers
            if (appointmentForm) {
                appointmentForm.addEventListener('submit', handleAppointmentSubmit(appointmentForm, true));
            }
            
            if (dentalAppointmentForm) {
                dentalAppointmentForm.addEventListener('submit', handleAppointmentSubmit(dentalAppointmentForm, false));
            }

            // Logout functionality
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (confirm('Are you sure you want to logout?')) {
                        auth.signOut()
                            .then(() => {
                                showToast('You have been logged out successfully.');
                            })
                            .catch((error) => {
                                console.error('Error signing out:', error);
                                showToast('Error logging out', 'error');
                            });
                    }
                });
            }
            
            // Set minimum date for appointment to today
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            const minDate = `${yyyy}-${mm}-${dd}`;
            
            const dateField = document.getElementById('date');
            const dentalDateField = document.getElementById('dental-date');
            
            if (dateField) dateField.setAttribute('min', minDate);
            if (dentalDateField) dentalDateField.setAttribute('min', minDate);
        });
    </script>
</body>
</html>